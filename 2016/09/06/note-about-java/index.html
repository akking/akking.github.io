<!DOCTYPE html><html lang="english"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Discovery · Dongyan Li's Notebook</title><meta name="description" content="Discovery - Dongyan Li"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Dongyan Li's Notebook"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/akking" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Discovery</h1><div class="post-info">Sep 6, 2016</div><div class="post-content"><p>Whenever I find something interesting, I write it here.</p>
<h2 id="Size-of-boolean-in-Java"><a href="#Size-of-boolean-in-Java" class="headerlink" title="Size of boolean in Java"></a>Size of <code>boolean</code> in Java</h2><p>I always assume the <code>boolean</code> data type takes only <em>1 bit</em> of space in memory, but I’m wrong when I search it on Google. A similar question from <a href="http://stackoverflow.com/questions/383551/what-is-the-size-of-a-boolean-variable-in-java" target="_blank" rel="external">StackOverflow</a> says:</p>
<blockquote>
<p>It’s virtual machine dependent.</p>
</blockquote>
<p>And it seems that in Sum’s JVM, it uses <strong>1 byte</strong> for boolean array and it may uses no less than 1 byte for individual boolean. The reason for that must be the trade off for speed since the memory addressing is “usually” 1 byte long.</p>
<p>Also, worth noting from <a href="http://cs-fundamentals.com/tech-interview/java/how-to-find-size-of-a-datatype-in-java.php" target="_blank" rel="external">this link</a> that all primitive wrapper classes except Boolean have a BYTES constant, which gives data type’s size in bytes:</p>
<pre><code>Size of byte: 1 bytes.
Size of short: 2 bytes.
Size of int: 4 bytes.
Size of long: 8 bytes.
Size of char: 2 bytes.
Size of float: 4 bytes.
Size of double: 8 bytes.
</code></pre><p>When you really in a space constrain environment, the <code>java.util.BitSet</code> is the way to go since it use 1 bit for each flag but may be slower. More details <a href="http://chrononsystems.com/blog/hidden-evils-of-javas-byte-array-byte" target="_blank" rel="external">here</a>.</p>
<h2 id="The-i-amp-i"><a href="#The-i-amp-i" class="headerlink" title="The i &amp; (-i)"></a>The <code>i &amp; (-i)</code></h2><p>Assume a number n, we can write the binary representation of <code>n</code> as <code>A1B</code>, A is the number before the least significant <code>1</code> and <code>B</code> as the zeros after that. For example: number 6 is <code>110</code> write as A1B where <code>A = 1 (the most left one, with all the zeros not shown)</code> and <code>B = 0 (most right)</code>. </p>
<p>For <code>-n</code>, if we want to represent it use <code>A1B</code> notation, then:<code>-n</code> = flip the bits of <code>A1B + 1</code> = <code>~A0~B</code> where <code>~B</code> consist of all ones, for example: for number -6, flip of <code>A</code> = 111…10, <code>B</code> = 1. When we do <code>+ 1</code>, the bits in <code>~B</code> flip back to 0 and flips the  middle  bit to 1 again:</p>
<pre><code>-num = (a1b)¯ + 1 = a¯0b¯ + 1 = a¯0(0…0)¯ + 1 = a¯0(1…1) + 1 = a¯1(0…0) = a¯1b.
</code></pre></div></article></div></main><footer><div class="paginator"><a href="/2016/09/06/kth-largest-element-in-an-array/" class="prev">PREV</a><a href="/2016/09/06/house-robber-iii/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://yoursite.com">Dongyan Li</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>